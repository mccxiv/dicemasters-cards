<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Dice Masters Cards</title>

		<link rel="stylesheet" href="css/styles.min.css"/>
	</head>
	<body ng-app="diceMasters" ng-controller="main" ng-class="{'searching': isSearching(), 'loaded': true}">

		<div class="deskArea" ng-controller="desk" ng-click="setSearching(false)">
			<div class="card card-animation" ng-repeat="card in getCards()">
				<div class="card-name" ng-if="!card.image">{{card.name}}</div>
				<img class="card-image" ng-if="card.image" src="{{card.image}}">
			</div>
		</div>

		<div class="searchArea" ng-controller="search" ng-click="setSearching(true)">

			<div class="form-group search-block">
				<input autofocus type="text"
					   class="search-box form-control input-lg"
					   ng-model="query" ng-change="search(query)"
					   ng-focus="setSearching(true)"
					   ng-keypress="key($event)">
			</div>

			<div class="cards">
				<div class="card card-animation" ng-repeat="card in getCards()" ng-click="save(card.name)" ng-class="{'full': card.image}">
					<div class="card-name" ng-if="!card.image">
						<div class="title">{{card.title}}</div>
						<div class="subtitle">{{card.subtitle}}</div>
					</div>
					<div class="card-apology" ng-if="!card.image && card.rarity">
						<div class="apology-text">No image available.</div>
						<div><a href="{{card.url}}" target="_blank">More info</a></div>
					</div>
					<img class="card-image" ng-if="card.image" src="{{card.image}}">
				</div>
			</div>

		</div>

		<script src="js/scripts.min.js"></script>

	</body>
</html>