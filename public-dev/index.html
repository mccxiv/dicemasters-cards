<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Dice Masters Cards</title>

		<!-- build:css css/styles.min.css -->
		<link rel="stylesheet" href="bower_components/bootswatch/simplex/bootstrap.min.css">
		<link rel="stylesheet" href="css/angular-animations.css">
		<link rel="stylesheet" href="css/transitions.css">
		<link rel="stylesheet" href="css/style.css">
		<!-- endbuild -->
	</head>
	<body ng-app="diceMasters" ng-controller="main" ng-class="{'searching': isSearching(), 'loaded': true}">

		<div class="deskArea" ng-controller="desk" ng-click="setSearching(false)">
			<div class="card card-animation" ng-repeat="card in getCards()">
				<div class="card-name" ng-if="!card.image">{{card.name}}</div>
				<img class="card-image" ng-if="card.image" src="{{card.image}}">
			</div>
		</div>

		<div class="searchArea" ng-controller="search" ng-click="setSearching(true)">

			<div class="form-group search-block">
				<input autofocus type="text"
					   class="search-box form-control input-lg"
					   ng-model="query" ng-change="search(query)"
					   ng-focus="setSearching(true)"
					   ng-keypress="key($event)">
			</div>

			<div class="cards">
				<div class="card card-animation" ng-repeat="card in getCards()" ng-click="save(card.name)" ng-class="{'full': card.image}">
					<div class="card-name" ng-if="!card.image">
						<div class="title">{{card.title}}</div>
						<div class="subtitle">{{card.subtitle}}</div>
					</div>
					<div class="card-apology" ng-if="!card.image && card.rarity">
						<div class="apology-text">No image available.</div>
						<div><a href="{{card.url}}" target="_blank">More info</a></div>
					</div>
					<img class="card-image" ng-if="card.image" src="{{card.image}}">
				</div>
			</div>

		</div>

		<!-- build:js js/scripts.min.js -->
		<script src="bower_components/socket.io-client/socket.io.js"></script>
		<script src="bower_components/angular/angular.js"></script>
		<script src="bower_components/angular-animate/angular-animate.js"></script>
		<script src="bower_components/underscore/underscore.js"></script>

		<script src="js/controllers/main.js"></script>
		<script src="js/controllers/search.js"></script>
		<script src="js/controllers/desk.js"></script>

		<script src="js/factories/cards.js"></script>
		<script src="js/factories/socketio.js"></script>

		<script src="js/app.js"></script>
		<!-- endbuild -->

	</body>
</html>